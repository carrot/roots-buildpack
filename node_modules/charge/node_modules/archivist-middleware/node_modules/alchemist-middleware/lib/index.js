// Generated by CoffeeScript 1.7.0
(function() {
  var defaults, st;

  st = require('st');

  defaults = require('lodash.defaults');

  module.exports = function(root, opts) {
    var middleware, options;
    if (opts == null) {
      opts = {};
    }
    options = defaults(opts, {
      index: 'index.html',
      cache: {
        content: {
          maxAge: false
        }
      }
    });
    options.path = root;
    options.passthrough = true;
    middleware = st(options);
    return function(req, res, next) {
      return middleware(req, res, next.bind(null, "file not found"));
    };
  };

}).call(this);
